{% extends '_base.html' %}
{% load crispy_forms_tags %}


{% block custom_style %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
{% endblock %}


{% block content %}
<div class="container">        
    {% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %} 
        <div class="alert alert-danger">
            <strong>{{ field.name }} {{ error|escape }}</strong>
        </div>
        {% endfor %}
        {% endfor %}
        {% endif %}
        
        <form method="post">
            {% csrf_token %}
            <div class="row mt-3">
                <div class="col-12">
                    <h3>ข้อมูล ขรก.ติดเชื้อ COVID</h3>
                </div>
            </div>
            <div class="row bg-primary text-white mt-2">
                <div class="col-12 p-1">
                    <h4>ข้อมูลพื้นฐานทั่วไป</h4>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col-sm-4 col-md-4 col-lg-3 col-xl-2">
                    {{ form.person_id | as_crispy_field }}
                </div>
                <div class="col-6 col-sm-4 col-md-3 col-lg-2">
                    {{ form.gender | as_crispy_field }}
                </div>
                <div class="col-6 col-sm-4 col-md-3  col-lg-2 col-xl-2">
                    {{ form.rank | as_crispy_field }}              
                </div>
                <div class="col-sm-8 col-md-8  col-lg-5 col-xl-3">
                    {{ form.full_name | as_crispy_field }}              
                </div>
                <div class="col-6 col-sm-4 col-md-3 col-lg-3">
                    {{ form.birth_day | as_crispy_field }}              
                </div>
                <div class="col-6 col-sm-4 col-md-3 col-lg-2">
                    {{ form.unit | as_crispy_field }}
                </div>
                <div class="col-6 col-sm-4 col-md-3 col-lg-2">
                    {{ form.airforce_type | as_crispy_field }}
                </div>            
                <div class="col-sm-4 col-md-5 col-lg-3">
                    {{ form.mobile | as_crispy_field }}
                </div>
                <div class="col-md-6  col-lg-5">
                    {{ form.address | as_crispy_field }}              
                </div>
                <div class="col-md-4 col-lg-3">
                    {{ form.right_medical | as_crispy_field }}              
                </div>
                <div class="col-md-4 col-lg-4">
                    {{ form.emergency_name | as_crispy_field }}
                </div>
            <div class="col-md-4 col-lg-3">
                {{ form.emergency_mobile | as_crispy_field }}
            </div>
            
        </div>
        <div class="row bg-warning text-dark mt-2">
            <div class="col-12 p-1">
                <h4>ข้อมูลสุขภาพและการรักษา</h4>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-4 col-sm-4 col-md-4 col-lg-1">
                {{ form.blood_group | as_crispy_field }}
            </div>
            <div class="col-4 col-sm-4 col-md-4  col-lg-1">
                {{ form.height | as_crispy_field }}              
            </div>
            <div class="col-4 col-sm-4 col-md-4 col-lg-1">
                {{ form.weight | as_crispy_field }}              
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4">
                {{ form.disease | as_crispy_field }}
            </div>
            <div class="col-sm-12 col-md-6 col-lg-5">
                {{ form.drug_allergy | as_crispy_field }}
            </div>           
        </div>
        <div class="row">
            <div class="col-6 col-sm-6 col-md-4 col-lg-2">
                {{ form.atk_date | as_crispy_field }}
            </div>
            <div class="col-6 col-sm-6 col-md-4  col-lg-2">
                {{ form.rt_pcr | as_crispy_field }}              
            </div>
            <div class="col-md-12 col-lg-3">
                {{ form.rt_pcr_place | as_crispy_field }}              
            </div>
            <div class="col-md-12 col-lg-5">
                {{ form.symptom | as_crispy_field }}              
            </div>
            <div class="col-sm-6 col-md-6 col-lg-2">
                {{ form.status | as_crispy_field }}              
            </div>
            <div class="col-sm-6 col-md-6 col-lg-2">
                {{ form.treatment | as_crispy_field }}
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-12 col-lg-12 text-end">
                <button type="submit" class="btn btn-primary px-3 py-2" onclick="return confirm('ยืนยันส่งข้อมูล?')"><i class="fa fa-save"></i> บันทึก</button>                
            </div>
        </div>
        {% comment %} {{ form | crispy }} {% endcomment %}
    </form>
</div>
    {% endblock %}